# 10-point Gauss-Legendre nodes and weights (on [-1,1])
const GL10_nodes = [
   -0.9739065285171717,
   -0.8650633666889845,
   -0.6794095682990244,
   -0.4333953941292472,
   -0.1488743389816312,
    0.1488743389816312,
    0.4333953941292472,
    0.6794095682990244,
    0.8650633666889845,
    0.9739065285171717
]

const GL10_weights = [
    0.0666713443086881,
    0.1494513491505806,
    0.2190863625159820,
    0.2692667193099963,
    0.2955242247147529,
    0.2955242247147529,
    0.2692667193099963,
    0.2190863625159820,
    0.1494513491505806,
    0.0666713443086881
]

function cdf_legendre(x::Float64; n::Int=10)
    # Map [0, x] -> [-1,1]
    s = 0.0
    for i in 1:n
        u = GL10_nodes[i]
        t = 0.5 * x * (u + 1)
        s += GL10_weights[i] * exp(-t^2 / 2)
    end
    integral = 0.5 * x * s
    return 0.5 + integral / sqrt(2Ï€)
end